#!/bin/sh

echo "ğŸ” Augmenting changesets (anchor/baseline) ..."
pnpm changeset:augment || {
  echo "âš ï¸ Changeset augmentation failed (non-blocking). Continuing..."
}

# Re-stage potential changes to .changeset/*.md made by the augment script
git add .changeset/*.md 2>/dev/null || true

echo "ğŸ” Validating your commit..."

pnpm validate:commit || {
  echo "âŒ Validation failed. Please fix the issues above."
  exit 1
}

echo "âœ… All checks passed! Committing..."
