#!/bin/sh

# Check if any commit in the push contains [skip ci]
if git log --format=%B origin/main..HEAD | grep -q "\[skip ci\]"; then
  echo "â­ï¸  Skipping validation due to [skip ci] in commit message"
  exit 0
fi

echo "ğŸ§ª Running full validation before push..."

# Run all validations including E2E tests
pnpm validate:full || {
  echo "âŒ Validation failed."
  exit 1
}

echo "âœ… All checks passed. Proceeding with push..."
